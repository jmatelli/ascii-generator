(function(){var a,b;$.event.props.push("dataTransfer"),a=function(){function a(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(this.img=a,c=100,m="",d=this.img.width>c?c:this.img.width,b=this.img.width>c?this.img.height*c/this.img.width:this.img.height,q=document.createElement("canvas"),e=$("#ascii"),e.html(""),e.removeClass("hidden"),q.width=d,q.height=b,p=q.getContext("2d"),p.fillStyle="white",p.fillRect(0,0,d,b),p.drawImage(this.img,0,0,d,b),n=p.getImageData(0,0,d,b),i=n.data,l=r=0,s=i.length;s>r;l=r+=4)h=i[l],o=i[l],j=i[l+1],f=i[l+2],k=.2126*o+.7152*j+.0722*f,i[l]=i[l+1]=i[l+2]=k,g=k>250?"&nbsp;":k>230?"`":k>200?":":k>175?"*":k>150?"+":k>125?"#":k>50?"W":"@",0!==l&&l/4%d===0&&(e.html(e.html()+m),e.append("<br>"),m=""),m+=g}return a}(),b=function(){function b(){var a;this.elm=$("#uploadImg"),a=this,$(this.elm).on("dragover",this.handleDragOver),$(this.elm).on("dragleave",this.handleDragLeave),$(this.elm).on("drop",function(b){return a.handleFileSelect(b,a)})}return b.prototype.handleDragOver=function(a){return a.preventDefault(),$(a.target).addClass("dragover")},b.prototype.handleDragLeave=function(a){return a.preventDefault(),$(a.target).removeClass("dragover")},b.prototype.handleFileSelect=function(b){var c,d,e,f,g;for(b.preventDefault(),$(b.target).removeClass("dragover"),$("#list").removeClass("hidden"),$("#btns").removeClass("hidden"),d=b.dataTransfer.files,g=[],e=0,f=d.length;f>e;e++)c=d[e],g.push(function(b){var c;return c=new FileReader,c.onload=function(){return function(b){var c;return c=document.createElement("a"),c.href="#",c.innerHTML=['<img class="img-thumbnail" src="',b.target.result,'"/>'].join(""),$("#list").append(c),$(c).on("click",function(){return new a(this.getElementsByTagName("img")[0])})}}(b),c.readAsDataURL(b)}(c));return g},b}(),$(window).scroll(function(){return $("body").scrollTop()>1030?$("#another").removeClass("hidden"):$("#another").addClass("hidden")}),$(".select").on("click",function(a){var b,c,d;return a.preventDefault(),d=document.getElementById("ascii"),document.body.createTextRange?(b=document.body.createTextRange(),b.moveToElementText(d),b.select()):window.getSelection?(c=window.getSelection(),b=document.createRange(),b.selectNodeContents(d),c.removeAllRanges(),c.addRange(b)):void 0}),$(".reset").on("click",function(a){return a.preventDefault(),$("body").animate({scrollTop:0},500,function(){return $("#list").addClass("hidden").find("a").remove(),$("#btns").addClass("hidden"),$("#ascii").html("").addClass("hidden")})}),new b}).call(this);